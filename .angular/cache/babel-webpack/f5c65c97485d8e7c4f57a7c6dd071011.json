{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let LocationComponent = /*#__PURE__*/(() => {\n  class LocationComponent {\n    constructor() {\n      this.title = 'LocationMap';\n    }\n\n    ngOnInit() {\n      if (!navigator.geolocation) {\n        console.log('localisation non supportee');\n      }\n\n      navigator.geolocation.getCurrentPosition(position => {\n        const coordonnes = position.coords;\n        console.log(`lat: ${position.coords.latitude}, lon: ${position.coords.longitude}`);\n        const mymap = L.map('map').setView([coordonnes.latitude, coordonnes.longitude], 13);\n        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYm91c3JhIiwiYSI6ImNrdzF5ZWdsdzIyczgydnBoZHVrMXp3NzQifQ.7npXkvg8AeCubZSFyzi5BA', {\n          attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n          maxZoom: 18,\n          id: 'mapbox/streets-v11',\n          tileSize: 512,\n          zoomOffset: -1,\n          accessToken: 'your.mapbox.access.token'\n        }).addTo(mymap);\n        const marker = L.marker([coordonnes.latitude, coordonnes.longitude]).addTo(mymap);\n        marker.bindPopup('<b>Hello world!</b><br>I am a popup.').openPopup();\n        const popup = L.popup().setLatLng([coordonnes.latitude, coordonnes.longitude]).setContent('I am a standalone popup.').openOn(mymap);\n      });\n      this.watchPosition();\n    } // tslint:disable-next-line:typedef\n\n\n    watchPosition() {\n      const desLat = 0;\n      const desLon = 0;\n      const id = navigator.geolocation.watchPosition(position => {\n        console.log(`lat: ${position.coords.latitude}, lon: ${position.coords.longitude}`);\n\n        if (position.coords.latitude === desLat) {\n          navigator.geolocation.clearWatch(id);\n        }\n      }, err => {\n        console.log(err);\n      }, {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0\n      });\n    }\n\n  }\n\n  LocationComponent.ɵfac = function LocationComponent_Factory(t) {\n    return new (t || LocationComponent)();\n  };\n\n  LocationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LocationComponent,\n    selectors: [[\"app-location\"]],\n    decls: 1,\n    vars: 0,\n    consts: [[\"id\", \"map\"]],\n    template: function LocationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0);\n      }\n    },\n    styles: [\"#map[_ngcontent-%COMP%]{height:60%;width:100%}\"]\n  });\n  return LocationComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}